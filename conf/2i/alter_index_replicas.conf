    2i.gsi_alter_index_replicas.GSIAlterIndexesTests:
        # Test increasing number of replicas
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=1,replica_index=True
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=1
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=2
        test_alter_index_with_num_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True
        test_alter_index_with_num_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True,build_index=True
        test_alter_index_with_node_list,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=1
        test_alter_index_with_num_replica_rebalance,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:n1ql:index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=1,replica_index=True
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=1,replica_index=True,num_index_partitions=4,items=1000
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=1,replica_index=True,num_index_partitions=16,items=1000
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=1,num_index_partitions=16,items=1000
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=1,num_index_partitions=4,items=1000
        test_alter_index_with_num_replica_deferred_partitioned,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True
        test_alter_index_with_num_replica_deferred_partitioned,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True,num_index_partitions=4
        test_alter_index_with_num_replica_deferred_partitioned,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True,build_index=True
        test_alter_index_with_num_replica_deferred_partitioned,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=2,replica_index=True,build_index=True,num_index_partitions=4
        # Test decreasing number of replicas
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1,replica_index=True
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,num_change_replica=-2,replica_index=True
        test_alter_index_with_num_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-2,replica_index=True
        test_alter_index_with_num_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-2,replica_index=True,build_index=True
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=-1,replica_index=True
        test_alter_index_with_num_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-2,replica_index=True
        test_alter_index_with_node_list,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1
        test_alter_index_with_node_list,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-2
        test_alter_index_with_num_replica_rebalance,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:n1ql:index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1,replica_index=True
        test_alter_index_with_num_replica_rebalance,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:n1ql:index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1,replica_index=True,check_repair=True
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=-1,num_index_partitions=16,items=1000,num_index_replica=1,replica_index=True
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=-1,num_index_partitions=16,items=1000,num_index_replica=2,replica_index=True
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=-1,num_index_partitions=4,items=1000,num_index_replica=1,replica_index=True
        test_alter_index_num_partitions,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_change_replica=-1,num_index_partitions=4,items=1000,num_index_replica=2,replica_index=True
        # Test dropping indexes by replicaId
        test_alter_index_drop_index,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,replicaId=1
        test_alter_index_drop_index,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,replicaId=0
        test_alter_index_drop_all_indexes,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True
        test_alter_index_with_drop_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,replicaId=1
        test_alter_index_with_drop_replica_deferred,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replicaId=1,replica_index=True,build_index=True
        test_alter_index_num_partitions_drop_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,replicaId=1
        test_alter_index_num_partitions_drop_replica,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,replicaId=1,num_index_partitions=4
        test_alter_index_with_num_replica_rebalance,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:n1ql:index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1,replica_index=True,drop_replica=True
        test_alter_index_with_num_replica_rebalance,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:n1ql:index-index-index,groups=simple,reset_services=True,num_index_replica=2,num_change_replica=-1,replica_index=True,check_repair=True,drop_replica=True
        # Concurrent Operations Tests
        test_alter_index_concurrent_create,doc-per-day=20000,bucket_size=300,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,num_change_replica=1
        test_alter_index_concurrent_create,doc-per-day=20000,bucket_size=300,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,replica_index=True,num_change_replica=1,same_index=True
        test_alter_index_concurrent_build,doc-per-day=20000,bucket_size=300,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,expect_failure=True,expected_err_msg='GSI AlterIndex() - cause: Fail to alter index: Create index or Alter replica cannot proceed due to rebalance in progress, another concurrent create index request, network partition, node failover, or indexer failure.'
        test_alter_index_concurrent_alter,doc-per-day=20000,bucket_size=300,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,expect_failure=True
        test_alter_index_drop_bucket,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,expect_failure=True,expected_err_msg='Bucket does not exist or temporarily unavailable for creating new index.'
        test_alter_index_drop_bucket,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,flush_bucket=True
        test_alter_index_bucket_partial_rollback,doc-per-day=1000,nodes_init=4,services_init=kv:index:n1ql-kv:index-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1
        test_alter_index_failover,doc-per-day=20000,nodes_init=4,services_init=kv:index:n1ql-kv:index:n1ql-index-index,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,expect_failure=True,expected_err_msg='GSI AlterIndex() - cause: Fail to alter index: Cluster has failed nodes, undergo network partition, or unable to determine indexer node status',failover_type=index
        test_alter_index_failover,doc-per-day=20000,nodes_init=4,services_init=kv:index:n1ql-index-index-kv:index:n1ql,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1,expect_failure=True,expected_err_msg='',failover_type=query
        test_alter_index_failover,doc-per-day=20000,nodes_init=4,services_init=kv:index:n1ql-index-index-kv:index:n1ql,groups=simple,reset_services=True,num_index_replica=1,num_change_replica=1