query:
 	select ;

select:
	WITH_START WITH CTE_START WITH_CLAUSE_SUBQUERY CTE_END with_clauses WITH_END select_from_where;

with_clauses:
    |
    , CTE_START with_clause CTE_END with_clauses|
    ;

with_clause:
    WITH_CLAUSE_SUBQUERY|
    NESTED_WITH_CLAUSE_SUBQUERY|
    CHAINED_WITH_CLAUSE_SUBQUERY;


select_from_where:
    SELECT_START SELECT select_type SELECT_END FROM_START FROM from_type FROM_END WHERE_START WHERE where_type WHERE_END|
    SELECT_START SELECT select_type SELECT_END FROM_START FROM from_type FROM_END WHERE_START WHERE where_type WHERE_END|
    SELECT_START SELECT select_type SELECT_END FROM_START FROM from_type FROM_END WHERE_START WHERE where_type WHERE_END;

select_type:
      FIELDS|
      FIELDS|
      FIELDS|
      FIELDS_OR_SUBQUERY;

from_type:
    FROM_SUBQUERY_CTE|
    TABLE_AND_CTE_JOIN|
    WITH_CLAUSE_ALIAS|
    BUCKET_NAME;

where_type:
    FIELDS_CONDITION|
    FIELDS_CONDITION|
    FIELDS_CONDITION|
    FIELDS_SUBQUERY_CONDITION;