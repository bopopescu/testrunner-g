[2019-04-26 23:05:54,047] - [fts_base] [123145410170880] - INFO - ==== FTSbasetests setup is started for test #3 create_simple_default_index ====
[2019-04-26 23:05:54,059] - [fts_base] [123145410170880] - INFO - removing nodes from cluster ...
[2019-04-26 23:05:54,068] - [fts_base] [123145410170880] - INFO - cleanup [ip:192.168.10.12 port:8091 ssh_username:root]
[2019-04-26 23:05:54,099] - [cluster_helper] [123145410170880] - INFO - waiting for ns_server @ 192.168.10.12:8091
[2019-04-26 23:05:54,104] - [cluster_helper] [123145410170880] - INFO - ns_server @ 192.168.10.12:8091 is running
[2019-04-26 23:05:54,104] - [fts_base] [123145410170880] - INFO - Removing user 'cbadminbucket'...
[2019-04-26 23:05:54,115] - [rest_client] [123145410170880] - ERROR - DELETE http://192.168.10.12:8091/settings/rbac/users/local/cbadminbucket body:  headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Accept': '*/*', 'Authorization': 'Basic QWRtaW5pc3RyYXRvcjpQYXNzdzByZA==\n'} error: 404 reason: unknown "User was not found." auth: Administrator:Passw0rd
[2019-04-26 23:05:54,115] - [fts_base] [123145410170880] - INFO - "User was not found."
[2019-04-26 23:05:54,116] - [fts_base] [123145410170880] - INFO - Initializing Cluster ...
[2019-04-26 23:05:55,062] - [task] [123145443823616] - INFO - server: ip:192.168.10.12 port:8091 ssh_username:root, nodes/self: {'ip': u'192.168.10.12', 'availableStorage': [], 'rest_username': '', 'id': u'ns_1@192.168.10.12', 'uptime': u'221', 'mcdMemoryReserved': 3032, 'storageTotalRam': 3790, 'hostname': u'192.168.10.12:8091', 'storage': [<membase.api.rest_client.NodeDataStorage object at 0x10607a1d0>], 'moxi': 11211, 'port': u'8091', 'version': u'6.5.0-3068-enterprise', 'memcached': 11210, 'status': u'healthy', 'clusterCompatibility': 393221, 'curr_items': 0, 'services': [u'index', u'kv', u'n1ql'], 'rest_password': '', 'clusterMembership': u'active', 'memoryFree': 3337842688, 'memoryTotal': 3974823936, 'memoryQuota': 2021, 'mcdMemoryAllocated': 3032, 'os': u'x86_64-unknown-linux-gnu', 'ports': []}
[2019-04-26 23:05:55,068] - [rest_client] [123145443823616] - INFO - pools/default params : memoryQuota=2021
[2019-04-26 23:05:55,075] - [rest_client] [123145443823616] - INFO - settings/web params on 192.168.10.12:8091:username=Administrator&password=Passw0rd&port=8091
[2019-04-26 23:05:55,112] - [remote_util] [123145443823616] - INFO - connecting to 192.168.10.12 with username:root 
[2019-04-26 23:05:55,280] - [remote_util] [123145443823616] - INFO - Connected to 192.168.10.12
[2019-04-26 23:05:55,512] - [remote_util] [123145443823616] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:05:56,003] - [remote_util] [123145443823616] - INFO - running command.raw on 192.168.10.12: curl http://Administrator:Passw0rd@localhost:8091/diag/eval -X POST -d 'ns_config:set(allow_nonlocal_eval, true).'
[2019-04-26 23:05:56,079] - [remote_util] [123145443823616] - INFO - command executed successfully
[2019-04-26 23:05:56,083] - [rest_client] [123145443823616] - INFO - /diag/eval status on 192.168.10.12:8091: True content: [6,5] command: cluster_compat_mode:get_compat_version().
[2019-04-26 23:05:56,084] - [rest_client] [123145443823616] - INFO - settings/indexes params : storageMode=forestdb
[2019-04-26 23:05:56,088] - [rest_client] [123145443823616] - ERROR - POST http://192.168.10.12:8091/settings/indexes body: storageMode=forestdb headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Accept': '*/*', 'Authorization': 'Basic QWRtaW5pc3RyYXRvcjpQYXNzdzByZA==\n'} error: 400 reason: unknown {"errors":{"storageMode":"The value must be one of the following: [plasma,memory_optimized]"}} auth: Administrator:Passw0rd
[2019-04-26 23:05:56,099] - [fts_base] [123145410170880] - INFO - 192.168.10.11 will be configured with services fts
[2019-04-26 23:05:57,103] - [task] [123145443823616] - INFO - adding node 192.168.10.11:8091 to cluster
[2019-04-26 23:05:57,104] - [rest_client] [123145443823616] - INFO - adding remote node @192.168.10.11:8091 to this cluster @192.168.10.12:8091
[2019-04-26 23:05:58,626] - [rest_client] [123145443823616] - INFO - rebalance params : {'password': 'Passw0rd', 'ejectedNodes': '', 'user': 'Administrator', 'knownNodes': u'ns_1@192.168.10.11,ns_1@192.168.10.12'}
[2019-04-26 23:05:58,633] - [rest_client] [123145443823616] - INFO - rebalance operation started
[2019-04-26 23:05:58,638] - [rest_client] [123145443823616] - INFO - rebalance percentage : 0.00 %
[2019-04-26 23:05:58,638] - [task] [123145443823616] - INFO - Rebalance - status: running, progress: 0.00%
[2019-04-26 23:06:08,683] - [task] [123145443823616] - INFO - Rebalance - status: none, progress: 100.00%
[2019-04-26 23:06:08,690] - [task] [123145443823616] - INFO - rebalancing was completed with progress: 100% in 10.055847168 sec
[2019-04-26 23:06:08,701] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.12 with username:root 
[2019-04-26 23:06:08,832] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.12
[2019-04-26 23:06:09,091] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:09,550] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.12: curl http://Administrator:Passw0rd@localhost:8091/diag/eval -X POST -d 'ns_config:set(allow_nonlocal_eval, true).'
[2019-04-26 23:06:09,660] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:09,660] - [fts_base] [123145410170880] - INFO - Enabled diag/eval for non-local hosts from 192.168.10.12
[2019-04-26 23:06:09,684] - [rest_client] [123145410170880] - ERROR - DELETE http://192.168.10.12:8091/settings/rbac/users/local/cbadminbucket body:  headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Accept': '*/*', 'Authorization': 'Basic QWRtaW5pc3RyYXRvcjpQYXNzdzByZA==\n'} error: 404 reason: unknown "User was not found." auth: Administrator:Passw0rd
[2019-04-26 23:06:09,684] - [internal_user] [123145410170880] - INFO - Exception while deleting user. Exception is -"User was not found."
[2019-04-26 23:06:10,726] - [rest_client] [123145443823616] - INFO - http://192.168.10.12:8091/pools/default/buckets with param: bucketType=membase&evictionPolicy=valueOnly&threadsNumber=3&ramQuotaMB=1521&authType=sasl&name=default&flushEnabled=1&replicaNumber=1&compressionMode=passive&saslPassword=None&replicaIndex=1
[2019-04-26 23:06:10,736] - [rest_client] [123145443823616] - INFO - 0.01 seconds to create bucket default
[2019-04-26 23:06:10,737] - [bucket_helper] [123145443823616] - INFO - waiting for memcached bucket : default in 192.168.10.12 to accept set ops
[2019-04-26 23:06:11,956] - [data_helper] [123145443823616] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:12,084] - [data_helper] [123145443823616] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:12,697] - [task] [123145443823616] - INFO - bucket 'default' was created with per node RAM quota: 1521
[2019-04-26 23:06:12,748] - [rest_client] [123145410170880] - INFO - /diag/eval status on 192.168.10.12:8091: True content: "/opt/couchbase/var/lib/couchbase/logs" command: filename:absname(element(2, application:get_env(ns_server,error_logger_mf_dir))).
[2019-04-26 23:06:12,749] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.12 with username:root 
[2019-04-26 23:06:12,885] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.12
[2019-04-26 23:06:13,109] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:13,494] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.12: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:13,549] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:13,549] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:13,675] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.11 with username:root 
[2019-04-26 23:06:13,840] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.11
[2019-04-26 23:06:14,106] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:14,519] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.11: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:14,590] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:14,591] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:14,718] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.13 with username:root 
[2019-04-26 23:06:14,858] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.13
[2019-04-26 23:06:15,151] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:15,794] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.13: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:15,869] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:15,870] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:15,991] - [fts_base] [123145410170880] - INFO - {'192.168.10.12': {'panic:': 0}, '192.168.10.13': {'panic:': 0}, '192.168.10.11': {'panic:': 0}}
[2019-04-26 23:06:15,991] - [fts_base] [123145410170880] - INFO - ==== FTSbasetests setup is finished for test #3 create_simple_default_index ====
[2019-04-26 23:06:16,042] - [data_helper] [123145410170880] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:16,796] - [data_helper] [123145448030208] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:16,800] - [data_helper] [123145448030208] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:16,805] - [data_helper] [123145448030208] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:16,810] - [data_helper] [123145448030208] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:16,956] - [data_helper] [123145448030208] - INFO - creating direct client 192.168.10.12:11210 default
[2019-04-26 23:06:17,083] - [fts_base] [123145410170880] - INFO - Loading phase complete!
[2019-04-26 23:06:17,090] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:17,104] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:17,116] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:17,124] - [fts_base] [123145410170880] - INFO - Docs in bucket default = 0
[2019-04-26 23:06:17,124] - [fts_base] [123145410170880] - INFO - sleep for 1 secs. sleeping 1s to allow for item loading ...
[2019-04-26 23:06:18,135] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:18,151] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:18,160] - [fts_base] [123145410170880] - INFO - Docs in bucket default = 0
[2019-04-26 23:06:18,160] - [fts_base] [123145410170880] - INFO - sleep for 1 secs. sleeping 1s to allow for item loading ...
[2019-04-26 23:06:19,173] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:19,200] - [fts_base] [123145410170880] - INFO - Checking if index already exists ...
[2019-04-26 23:06:19,222] - [rest_client] [123145410170880] - ERROR - GET http://192.168.10.11:8094/api/index/default_index_1 body:  headers: {'Content-Type': 'application/json', 'Accept': '*/*', 'Authorization': 'Basic QWRtaW5pc3RyYXRvcjpQYXNzdzByZA==\n'} error: 400 reason: rest_auth: preparePerms, err: index not found {"error":"rest_auth: preparePerms, err: index not found","request":"","status":"fail"} auth: Administrator:Passw0rd
[2019-04-26 23:06:19,227] - [rest_client] [123145410170880] - ERROR - DELETE http://192.168.10.11:8094/api/index/default_index_1 body:  headers: {'Content-Type': 'application/json', 'Accept': '*/*', 'Authorization': 'Basic QWRtaW5pc3RyYXRvcjpQYXNzdzByZA==\n'} error: 400 reason: rest_auth: preparePerms, err: index not found {"error":"rest_auth: preparePerms, err: index not found","request":"","status":"fail"} auth: Administrator:Passw0rd
[2019-04-26 23:06:19,228] - [fts_base] [123145410170880] - INFO - Creating fulltext-index default_index_1 on 192.168.10.11
[2019-04-26 23:06:19,229] - [rest_client] [123145410170880] - INFO - {"params": {"store": {"mossStoreOptions": {}, "kvStoreName": "mossStore"}}, "name": "default_index_1", "planParams": {"numReplicas": 0, "maxPartitionsPerPIndex": 171}, "sourceName": "default", "sourceUUID": "", "sourceType": "couchbase", "type": "fulltext-index", "uuid": ""}
[2019-04-26 23:06:19,261] - [rest_client] [123145410170880] - INFO - Index default_index_1 created
[2019-04-26 23:06:19,262] - [fts_base] [123145410170880] - INFO - Validating index distribution for default_index_1 ...
[2019-04-26 23:06:19,300] - [fts_base] [123145410170880] - INFO - sleep for 5 secs. No pindexes found, waiting for index to get created ...
[2019-04-26 23:06:24,354] - [fts_base] [123145410170880] - INFO - Validated: Number of PIndexes = 6
[2019-04-26 23:06:24,365] - [fts_base] [123145410170880] - INFO - Validated: Every pIndex serves 171 partitions or lesser
[2019-04-26 23:06:24,366] - [fts_base] [123145410170880] - INFO - Expecting num of partitions in each node in range 853-1024
[2019-04-26 23:06:24,366] - [fts_base] [123145410170880] - INFO - Validated: Node 759180b03c45eb22d10557ceffcbcbed houses 6 pindexes which serve 1024 partitions
[2019-04-26 23:06:24,393] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:24,403] - [fts_base] [123145410170880] - INFO - Docs in bucket = 10, docs in FTS index 'default_index_1': 10
[2019-04-26 23:06:24,449] - [rest_client] [123145410170880] - INFO - http://192.168.10.12:8091/pools/default/buckets/default/stats?zoom=minute
[2019-04-26 23:06:24,458] - [fts_base] [123145410170880] - INFO - Docs in index default_index_1=10, bucket docs=10
[2019-04-26 23:06:24,468] - [rest_client] [123145410170880] - INFO - /diag/eval status on 192.168.10.12:8091: True content: "/opt/couchbase/var/lib/couchbase/logs" command: filename:absname(element(2, application:get_env(ns_server,error_logger_mf_dir))).
[2019-04-26 23:06:24,469] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.12 with username:root 
[2019-04-26 23:06:24,656] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.12
[2019-04-26 23:06:24,944] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:25,410] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.12: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:25,468] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:25,468] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:25,469] - [fts_base] [123145410170880] - INFO - Initial 'panic:' count on 192.168.10.12 :0, now :0
[2019-04-26 23:06:25,595] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.11 with username:root 
[2019-04-26 23:06:25,747] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.11
[2019-04-26 23:06:26,017] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:26,421] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.11: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:26,492] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:26,493] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:26,493] - [fts_base] [123145410170880] - INFO - Initial 'panic:' count on 192.168.10.11 :0, now :0
[2019-04-26 23:06:26,618] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.13 with username:root 
[2019-04-26 23:06:26,750] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.13
[2019-04-26 23:06:27,012] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:27,442] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.13: zgrep "panic:" "/opt/couchbase/var/lib/couchbase/logs"/fts.log* | wc -l
[2019-04-26 23:06:27,514] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:27,515] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:27,516] - [fts_base] [123145410170880] - INFO - Initial 'panic:' count on 192.168.10.13 :0, now :0
[2019-04-26 23:06:27,639] - [fts_base] [123145410170880] - INFO - ====  FTSbasetests cleanup is started for test #3 create_simple_default_index ====
[2019-04-26 23:06:27,660] - [fts_base] [123145410170880] - INFO - Deleting fulltext-index default_index_1 on 192.168.10.11
[2019-04-26 23:06:27,710] - [remote_util] [123145410170880] - INFO - connecting to 192.168.10.11 with username:root 
[2019-04-26 23:06:27,890] - [remote_util] [123145410170880] - INFO - Connected to 192.168.10.11
[2019-04-26 23:06:28,148] - [remote_util] [123145410170880] - INFO - It could be other operating system.  Go to check at other location
[2019-04-26 23:06:28,496] - [remote_util] [123145410170880] - INFO - running command.raw on 192.168.10.11: ls /opt/couchbase/var/lib/couchbase/data/@fts |grep ^default_index_1 | wc -l
[2019-04-26 23:06:28,552] - [remote_util] [123145410170880] - INFO - command executed successfully
[2019-04-26 23:06:28,552] - [fts_base] [123145410170880] - INFO - 0
[2019-04-26 23:06:30,557] - [fts_base] [123145410170880] - INFO - Validated: all index files for default_index_1 deleted from disk
[2019-04-26 23:06:30,558] - [fts_base] [123145410170880] - INFO - removing nodes from cluster ...
[2019-04-26 23:06:30,569] - [fts_base] [123145410170880] - INFO - cleanup [ip:192.168.10.12 port:8091 ssh_username:root, ip:192.168.10.11 port:8091 ssh_username:root]
[2019-04-26 23:06:30,588] - [bucket_helper] [123145410170880] - INFO - deleting existing buckets [u'default'] on 192.168.10.12
[2019-04-26 23:06:30,589] - [bucket_helper] [123145410170880] - INFO - remove bucket default ...
[2019-04-26 23:06:31,120] - [bucket_helper] [123145410170880] - INFO - deleted bucket : default from 192.168.10.12
[2019-04-26 23:06:31,121] - [bucket_helper] [123145410170880] - INFO - waiting for bucket deletion to complete....
[2019-04-26 23:06:31,126] - [rest_client] [123145410170880] - INFO - node 192.168.10.12 existing buckets : []
[2019-04-26 23:06:31,126] - [bucket_helper] [123145410170880] - INFO - sleep 2 seconds to make sure all buckets ([u'default']) were deleted completely.
[2019-04-26 23:06:33,156] - [cluster_helper] [123145410170880] - INFO - rebalancing all nodes in order to remove nodes
[2019-04-26 23:06:33,161] - [rest_client] [123145410170880] - INFO - rebalance params : {'password': 'Passw0rd', 'ejectedNodes': u'ns_1@192.168.10.11', 'user': 'Administrator', 'knownNodes': u'ns_1@192.168.10.11,ns_1@192.168.10.12'}
[2019-04-26 23:06:33,168] - [rest_client] [123145410170880] - INFO - rebalance operation started
[2019-04-26 23:06:33,174] - [rest_client] [123145410170880] - INFO - rebalance percentage : 0.00 %
[2019-04-26 23:06:43,182] - [rest_client] [123145410170880] - INFO - rebalance percentage : 33.33 %
[2019-04-26 23:07:03,200] - [rest_client] [123145410170880] - INFO - rebalance progress took 30.03 seconds 
[2019-04-26 23:07:03,201] - [rest_client] [123145410170880] - INFO - sleep for 10 seconds after rebalance...
[2019-04-26 23:07:13,214] - [cluster_helper] [123145410170880] - INFO - removed all the nodes from cluster associated with ip:192.168.10.12 port:8091 ssh_username:root ? [(u'ns_1@192.168.10.11', 8091)]
[2019-04-26 23:07:13,221] - [cluster_helper] [123145410170880] - INFO - waiting for ns_server @ 192.168.10.12:8091
[2019-04-26 23:07:13,227] - [cluster_helper] [123145410170880] - INFO - ns_server @ 192.168.10.12:8091 is running
[2019-04-26 23:07:13,255] - [cluster_helper] [123145410170880] - INFO - waiting for ns_server @ 192.168.10.11:8091
[2019-04-26 23:07:13,260] - [cluster_helper] [123145410170880] - INFO - ns_server @ 192.168.10.11:8091 is running
[2019-04-26 23:07:13,260] - [fts_base] [123145410170880] - INFO - Removing user 'cbadminbucket'...
[2019-04-26 23:07:13,276] - [fts_base] [123145410170880] - INFO - ====  FTSbasetests cleanup is finished for test #3 create_simple_default_index ===
